<% content_for :context, @edition.title %>
<% content_for :error_summary, render('shared/error_summary', object: @edition.becomes(Edition), class_name: @edition.format_name) %>
<% content_for :page_title, "Edit translation for: #{@edition.title}" %>
<% content_for :title, "#{@translation_locale.native_language_name} (#{@translation_locale.english_language_name}) translation" %>

<% content_for :back_link do %>
  <%= render "govuk_publishing_components/components/back_link", {
    href: admin_edition_path(@edition)
  } %>
<% end %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <%= form_for @translated_edition, as: :edition, url: admin_edition_translation_path(@translated_edition, translation_locale), method: :put do |form| %>

      <% unless @edition.is_a?(CorporateInformationPage) %>
        <%= render "govuk_publishing_components/components/input", {
          label: {
            text: "Translated title (required)",
          },
          name: "edition[title]",
          id: "edition_title",
          heading_level: 2,
          heading_size: "l",
          value: @translated_edition.title,
          error_items: errors_for(form.object.errors, :title),
        } %>

        <h3 class="govuk-heading-m">English title content:</h2>
        <p class="govuk-body govuk-!-margin-bottom-8"><%= @edition.title %></p>
      <% end %>

      <%= render "govuk_publishing_components/components/textarea", {
        label: {
          text: "Translated summary#{' (required)' unless @edition.is_a?(CorporateInformationPage)}",
        },
        name: "edition[summary]",
        id: "edition_summary",
        heading_level: 2,
        heading_size: "l",
        value: @translated_edition.summary,
        rows: 2,
        error_items: errors_for(form.object.errors, :summary),
      } %>

      <h3 class="govuk-heading-m">English summary content:</h2>
      <p class="govuk-body govuk-!-margin-bottom-8"><%= @edition.summary %></p>

      <%= render "govuk_publishing_components/components/textarea", {
        label: {
          text: "Translated body (required)",
        },
        name: "edition[body]",
        id: "edition_body",
        heading_level: 2,
        heading_size: "l",
        value: @translated_edition.body,
        rows: 20,
        error_items: errors_for(form.object.errors, :body),
      } %>

      <h3 class="govuk-heading-m">English body content:</h2>
        <p class="govuk-body govuk-!-margin-bottom-8"><%= @edition.body %></p>

      <%= render "govuk_publishing_components/components/button", {
        text: "Save"
      } %>
    <% end %>
  </div>
</div>
